<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Giriş</title>
  <style>
    body{margin:0;background:#0f172a;color:#e5e7eb;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial}
    .wrap{max-width:360px;margin:84px auto;padding:24px;border:1px solid rgba(148,163,184,.15);border-radius:16px;background:linear-gradient(180deg,rgba(148,163,184,.07),rgba(148,163,184,.02))}
    h3{margin:0 0 14px}
    label{display:block;margin:10px 0 6px;color:#94a3b8;font-size:13px}
    input{width:calc(100% - 8px);padding:12px;border-radius:12px;border:1px solid rgba(148,163,184,.2);background:#0b1220;color:#e5e7eb; box-sizing: border-box;}
    input:focus{outline:none;box-shadow:0 0 0 4px rgba(34,211,238,.35);border-color:transparent}
    button{margin-top:14px;width:100%;padding:12px;border-radius:12px;border:1px solid rgba(148,163,184,.2);background:#0b1220;color:#e5e7eb;cursor:pointer}
    button:hover{box-shadow:0 0 0 4px rgba(34,211,238,.35)}
    .msg{margin-top:10px;font-size:13px}
    .err{color:#fca5a5}.ok{color:#a7f3d0}
    .meta{margin-top:8px;font-size:12px;color:#94a3b8}
    .btn-primary{
      margin-top:14px;width:100%;padding:12px;border-radius:12px;
      border:1px solid rgba(148,163,184,.2);background:#0b1220;color:#e5e7eb;cursor:pointer
    }
    .btn-primary:hover{ box-shadow:0 0 0 4px rgba(34,211,238,.35) }
    .password-wrap{ position:relative; }
    .password-wrap input{
      width:calc(100%-8px); padding:12px; padding-right:42px;  /* sağa ikon boşluğu */
      border-radius:12px; border:1px solid rgba(148,163,184,.2);
      background:#0b1220; color:#e5e7eb;
    }
    .password-wrap input:focus{
      outline:none; box-shadow:0 0 0 4px rgba(34,211,238,.35); border-color:transparent;
    }

    .icon-btn{
      position:absolute; right:10px; top:50%; transform:translateY(-50%);
      width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center;
      background:transparent; border:0; padding:0; margin:0;
      color:#94a3b8; cursor:pointer; line-height:1;
    }
    .icon-btn:hover{ color:#22d3ee; }
    .icon-btn:focus{ outline:none; }
  </style>
</head>
<body>
  <div class="wrap">
    <h3>Admin Giriş</h3>
    <form th:action="@{/login}" method="post">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
      <label>Kullanıcı Adı</label>
      <input name="username" required autofocus />
      <label>Şifre</label>
      <div class="password-wrap">
        <input type="password" name="password" id="password" required />
        <button type="button" class="icon-btn" id="togglePassBtn" aria-label="Şifreyi göster">
          <!-- küçük göz ikonu (SVG) -->
          <svg id="eyeIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M2 12s3.5-6 10-6 10 6 10 6-3.5 6-10 6S2 12 2 12Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6"/>
          </svg>
        </button>
      </div>
      <button type="submit" class="btn-primary">Giriş</button>
      <div class="msg err" th:if="${param.error}">Giriş başarısız. Bilgileri kontrol edin.</div>
      <div class="msg ok"  th:if="${param.logout}">Çıkış yapıldı.</div>
    </form>
    <div class="meta"><a th:href="@{/}">← Ana sayfa</a></div>
  </div>
<script>
  (function () {
    const pass = document.getElementById('password');
    const btn  = document.getElementById('togglePassBtn');
    const icon = document.getElementById('eyeIcon');
    if (!pass || !btn || !icon) return;

    let shown = false;
    btn.addEventListener('click', () => {
      shown = !shown;
      pass.type = shown ? 'text' : 'password';
      // ikon çizimini basitçe değiştir (göz / kapalı göz)
      icon.innerHTML = shown
        ? '<path d="M2 12s3.5-6 10-6 10 6 10 6-3.5 6-10 6S2 12 2 12Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 4l16 16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>'
        : '<path d="M2 12s3.5-6 10-6 10 6 10 6-3.5 6-10 6S2 12 2 12Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6"/>';
      btn.setAttribute('aria-label', shown ? 'Şifreyi gizle' : 'Şifreyi göster');
    });
  })();
</script>
</body>
</html>
